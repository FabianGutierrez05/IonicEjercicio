"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[76],{537:(p,f,m)=>{m.d(f,{p:()=>g});var n=m(467),h=m(3953);let g=(()=>{var u;class d{constructor(){this.materias=[],this.storageKey="materias",this.cargarMaterias()}cargarMaterias(){const t=localStorage.getItem(this.storageKey);t&&(this.materias=JSON.parse(t))}guardarMaterias(){localStorage.setItem(this.storageKey,JSON.stringify(this.materias))}getMaterias(){var t=this;return(0,n.A)(function*(){return new Promise(a=>{setTimeout(()=>{a(t.materias)},500)})})()}agregarMateria(t){var a=this;return(0,n.A)(function*(){return new Promise(e=>{setTimeout(()=>{a.materias.push(t),a.guardarMaterias(),e()},500)})})()}eliminarMateria(t){var a=this;return(0,n.A)(function*(){return new Promise(e=>{setTimeout(()=>{a.materias=a.materias.filter(r=>r.codigo!==t),a.guardarMaterias(),e()},500)})})()}editarMateria(t,a){var e=this;return(0,n.A)(function*(){return new Promise(r=>{setTimeout(()=>{const i=e.materias.findIndex(s=>s.codigo===t);i>-1&&(e.materias[i]=a,e.guardarMaterias()),r()},500)})})()}agregarNota(t,a){var e=this;return(0,n.A)(function*(){return new Promise(r=>{setTimeout(()=>{const i=e.materias.find(s=>s.codigo===t);i&&!i.notas.find(o=>o.corte===a.corte)&&i.notas.length<4&&(i.notas.push(a),e.guardarMaterias()),r()},500)})})()}modificarNota(t,a,e){var r=this;return(0,n.A)(function*(){return new Promise(i=>{setTimeout(()=>{const s=r.materias.find(o=>o.codigo===t);if(s){const o=s.notas.find(c=>c.corte===a);o&&(o.nota=e,r.guardarMaterias())}i()},500)})})()}eliminarNota(t,a){var e=this;return(0,n.A)(function*(){return new Promise(r=>{setTimeout(()=>{const i=e.materias.find(s=>s.codigo===t);i&&(i.notas=i.notas.filter(s=>s.corte!==a),e.guardarMaterias()),r()},500)})})()}calcularPromedio(t){var a=this;return(0,n.A)(function*(){return new Promise(e=>{setTimeout(()=>{const r=a.materias.find(i=>i.codigo===t);if(r&&r.notas.length>0){const s=r.notas.reduce((o,c)=>o+c.nota,0)/r.notas.length;e(s)}else e(null)},500)})})()}calcularPromedioPorCorte(t,a){var e=this;return(0,n.A)(function*(){return new Promise(r=>{setTimeout(()=>{const i=e.materias.find(s=>s.codigo===t);if(i){const s=i.notas.filter(o=>o.corte===a);if(s.length>0){const c=s.reduce((_,M)=>_+M.nota,0)/s.length;r(c)}else r(null)}else r(null)},500)})})()}}return(u=d).\u0275fac=function(t){return new(t||u)},u.\u0275prov=h.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),d})()}}]);